<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <title>Fields Plugin 1.0-SNAPSHOT</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8" />
        <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8" />
    <script type="text/javascript">
function addJsClass(el) {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
    </head>

    <body class="body" onload="addJsClass();">
        <div id="navigation">
            <ul>
                <li>
                    <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                        <a href="../guide/index.html" class="button">Table of contents</a>
                        <div id="nav-summary-childs" style="display:none;">
                            
                            <div class="toc-item" style="margin-left:0"><a href="#1.%20Introduction"><strong>1</strong><span>Introduction</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#2.%20Tags"><strong>2</strong><span>Tags</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#3.%20Overriding%20Templates"><strong>3</strong><span>Overriding Templates</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#4.%20Scaffolding"><strong>4</strong><span>Scaffolding</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#5.%20Including%20Templates%20in%20Plugins"><strong>5</strong><span>Including Templates in Plugins</span></a></div>
                            
                        </div>
                    </div>
                </li>
                <li class="separator selected">
                    <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
                </li>
            </ul>
        </div>
        <div id="header">
            <div class="images clearfix">
                
                
            </div>
            <p></p>
        </div>


        <table id="colset" border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td id="col1">
                    <div id="main" class="corner-all">

                        <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                        <div class="project">
                            <h1>Fields Plugin - Reference Documentation</h1>
                            <p><strong>Authors:</strong> Rob Fletcher</p>
                            <p><strong>Version:</strong> 1.0-SNAPSHOT</p>
                            
                        </div>

                        
                        <div id="table-of-content">
                            <h2>Table of Contents</h2>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#1.%20Introduction"><strong>1</strong><span>Introduction</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#2.%20Tags"><strong>2</strong><span>Tags</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#3.%20Overriding%20Templates"><strong>3</strong><span>Overriding Templates</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#4.%20Scaffolding"><strong>4</strong><span>Scaffolding</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#5.%20Including%20Templates%20in%20Plugins"><strong>5</strong><span>Including Templates in Plugins</span></a></div>
                            
                            <div style="clear:both" ></div>
                        </div>
                        
                        

<h1 id="1. Introduction">1 Introduction</h1>
The  <em class="italic">Fields plugin</em>  allows you to customize the rendering of input fields for properties of domain objects, command beans and POGOs based on their type, name, etc. The plugin aims to:
<ul class="star">
<li>Use good defaults for fields.</li>
<li>Make it very easy to override the field rendering for particular properties or property types without having to replace entire form templates.</li>
<li>Not require you to copy and paste markup for containers, labels and error messages just because you need a different input type.</li>
<li>Support inputs for property paths of arbitrary depth and with indexing.</li>
<li>Enable other plugins to provide field rendering for special property types that gets picked up automatically (e.g. the  <em class="italic">Joda Time</em>  plugin can provide templates for the various date/time types).</li>
<li>Support embedded properties of  <em class="italic">GORM</em>  domain classes.</li>
</ul><p class="paragraph"/>


<h1 id="2. Tags">2 Tags</h1>
<h2>f:input</h2><p class="paragraph"/> <em class="italic">f:input</em>  renders an appropriate input for a property, for example an <code>&#60;input type="text"&#62;</code> element for a  <em class="italic">String</em>  property or a <code>&#60;select&#62;</code> for an enum. Using  <em class="italic">f:input</em>  directly will only be necessary for very specialized cases, usually it will be invoked via  <em class="italic">f:field</em> .<p class="paragraph"/><h2>f:field</h2><p class="paragraph"/> <em class="italic">f:field</em>  renders the input using either  <em class="italic">f:input</em>  or the tag body accompanied by any surrounding markup, typically a container, a  <em class="italic">label</em>  tag and any validation messages. By default the  <em class="italic">f:field</em>  tag will output:<p class="paragraph"/><div class="code"><pre>&#60;div class=<span class="java&#45;quote">"fieldcontain"</span>&#62;
    &#60;label <span class="java&#45;keyword">for</span>=<span class="java&#45;quote">"foo"</span>&#62;Foo&#60;/label&#62;
    &#60;!&#45;&#45; the input as generated by f:input or the tag body &#45;&#45;&#62;
&#60;/div&#62;</pre></div><p class="paragraph"/>Typically the intention is that  <em class="italic">f:field</em>  should be used  <em class="italic">without</em>  a tag body. For example:<p class="paragraph"/><div class="code"><pre>&#60;f:field bean=<span class="java&#45;quote">"person"</span> property=<span class="java&#45;quote">"name"</span>/&#62;</pre></div><p class="paragraph"/>In which case the tag will use  <em class="italic">f:input</em>  to generate an appropriate input. Alternatively in more specialized cases you can give  <em class="italic">f:field</em>  a tag body. For example:<p class="paragraph"/><div class="code"><pre>&#60;f:field bean=<span class="java&#45;quote">"person"</span> property=<span class="java&#45;quote">"name"</span>&#62;
    &#60;g:textField name=<span class="java&#45;quote">"$&#123;property&#125;"</span> value=<span class="java&#45;quote">"$&#123;value&#125;"</span>/&#62;
&#60;/f:field&#62;</pre></div><p class="paragraph"/>See <a href="../guide/single.html#3.%20Overriding%20Templates" class="guide">Overriding Templates</a> for details of the parameters passed to the tag body.<p class="paragraph"/><h3>Attributes</h3><p class="paragraph"/>Both  <em class="italic">f:input</em>  and  <em class="italic">f:field</em>  share the same exact set of attributes:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Required?</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td><strong class="bold">bean</strong></td><td>yes for  <em class="italic">f:input</em>  if not inside  <em class="italic">f:with</em> , optional for  <em class="italic">f:field</em> </td><td>The bean whose property is being rendered. This can be the object itself or the name of a page-scope variable.</td></tr><tr class="table-even"><td><strong class="bold">property</strong></td><td>yes</td><td>The path to the property. This can include any level of nesting and numeric or string indexes. For example <code>employees&#91;0&#93;.address&#91;home&#93;.street</code> is a valid path.</td></tr><tr class="table-odd"><td><strong class="bold">value</strong></td><td>&#160;</td><td>Overrides the actual value of the property.</td></tr><tr class="table-even"><td><strong class="bold">default</strong></td><td>&#160;</td><td>A default value for the property that will be used if the actual property value is  <em class="italic">falsy</em> .</td></tr><tr class="table-odd"><td><strong class="bold">required</strong></td><td>&#160;</td><td>Overrides the required status of the property. By default this is worked out based on the property's constraints.</td></tr><tr class="table-even"><td><strong class="bold">invalid</strong></td><td>&#160;</td><td>Overrides the validity of the property. By default this is worked out using the bean's  <em class="italic">errors</em>  property for domain and command objects.</td></tr><tr class="table-odd"><td><strong class="bold">label</strong></td><td>&#160;</td><td>Overrides the field label passed to the template. This value may either be an i18n key or a literal string.</td></tr></table><p class="paragraph"/><h2>f:all</h2><p class="paragraph"/>Renders fields for all properties of an object by using  <em class="italic">f:field</em>  for each property.<p class="paragraph"/>The  <em class="italic">id</em> ,  <em class="italic">version</em> ,  <em class="italic">dateCreated</em>  and  <em class="italic">lastUpdated</em>  properties are skipped on domain classes.<p class="paragraph"/>Embedded properties are included with a surrounding  <em class="italic">fieldset</em> . For example if you have a  <em class="italic">Person</em>  class with a  <em class="italic">name</em>  property and an  <em class="italic">Address</em>  embedded class with  <em class="italic">street</em> ,  <em class="italic">city</em>  and  <em class="italic">country</em>  properties <code>&#60;f:all bean="person"&#62;</code> will effectively do this:<p class="paragraph"/><div class="code"><pre>&#60;f:field bean=<span class="java&#45;quote">"person"</span> property=<span class="java&#45;quote">"name"</span>/&#62;
&#60;fieldset class=<span class="java&#45;quote">"embedded address"</span>&#62;
    &#60;legend&#62;Address&#60;/legend&#62;
    &#60;f:field bean=<span class="java&#45;quote">"person"</span> property=<span class="java&#45;quote">"address.street"</span>/&#62;
    &#60;f:field bean=<span class="java&#45;quote">"person"</span> property=<span class="java&#45;quote">"address.city"</span>/&#62;
    &#60;f:field bean=<span class="java&#45;quote">"person"</span> property=<span class="java&#45;quote">"address.country"</span>/&#62;
&#60;/fieldset&#62;</pre></div><p class="paragraph"/>You can customize how embedded properties are surrounded by providing a layout at <code>grails-app/views/layouts/ <em class="italic">fields/embedded.gsp</code> which will override the default layout provided by the plugin.<p class="paragraph"/><h3>Attributes</h3><p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Required?</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td><strong class="bold">bean</strong></td><td>if not inside _f:with</em> </td><td>The bean whose property is being rendered. This can be the object itself or the name of a page-scope variable.</td></tr><tr class="table-even"><td><strong class="bold">except</strong></td><td>&#160;</td><td>A comma-separated list of properties that should be skipped (in addition to the defaults).</td></tr></table><p class="paragraph"/><h2>f:with</h2><p class="paragraph"/>Places a bean in scope so that the bean attribute can be omitted on contained tags. For example:<p class="paragraph"/><div class="code"><pre>&#60;f:with bean=<span class="java&#45;quote">"person"</span>&#62;
    &#60;f:field property=<span class="java&#45;quote">"name"</span>/&#62;
    &#60;f:field property=<span class="java&#45;quote">"address.city"</span>/&#62;
&#60;/f:with&#62;</pre></div><p class="paragraph"/><h3>Attributes</h3><p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Required?</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td><strong class="bold">bean</strong></td><td>yes</td><td>The bean whose property is being rendered. This can be the object itself or the name of a page-scope variable.</td></tr></table>



<h1 id="3. Overriding Templates">3 Overriding Templates</h1>
The plugin resolves the GSP template used for each property according to conventions. You can override the rendering based on the class and property name or the property type. The  <em class="italic">f:field</em>  tag looks for a template called <code>&#95;field.gsp</code> and the  <em class="italic">f:input</em>  tag looks for a template called <code>&#95;input.gsp</code>. Both tags will look in the following locations in decreasing order of preference:
<ol>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/<strong class="bold">propertyName</strong>/</code></li>
<li><code>grails-app/views/&#95;fields/<strong class="bold">class</strong>/<strong class="bold">propertyName</strong>/</code></li>
<li><code>grails-app/views/&#95;fields/<strong class="bold">superclass</strong>/<strong class="bold">propertyName</strong>/</code></li>
<li><code>grails-app/views/&#95;fields/<strong class="bold">propertyType</strong>/</code></li>
<li><code>grails-app/views/&#95;fields/<strong class="bold">propertySuperclass</strong>/</code></li>
<li><code>grails-app/views/&#95;fields/default/</code></li>
</ol><p class="paragraph"/>The variables referenced in these paths are:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td><strong class="bold">controllerName</strong></td><td>The name of the current controller (if any).</td></tr><tr class="table-even"><td><strong class="bold">class</strong></td><td>The bean class. For simple properties this is the class of the object passed to the  <em class="italic">bean</em>  attribute of the  <em class="italic">f:field</em>  or  <em class="italic">f:input</em>  tag but when the  <em class="italic">property</em>  attribute was nested this is the class at the end of the chain. For example, if the property path was  <em class="italic">employees&#91;0&#93;.address.street</em>  this will be the class of  <em class="italic">address</em> .</td></tr><tr class="table-odd"><td><strong class="bold">superclass</strong></td><td>Any superclass or interface of  <em class="italic">class</em>  excluding  <em class="italic">Object</em> ,  <em class="italic">GroovyObject</em> ,  <em class="italic">Serializable</em> ,  <em class="italic">Comparable</em>  and  <em class="italic">Cloneable</em> .</td></tr><tr class="table-even"><td><strong class="bold">propertyName</strong></td><td>The property name at the end of the chain passed to the  <em class="italic">property</em>  attribute of the  <em class="italic">f:field</em>  or  <em class="italic">f:input</em>  tag. For example, if the property path was  <em class="italic">employees&#91;0&#93;.address.street</em>  then this will be  <em class="italic">street</em> .</td></tr><tr class="table-odd"><td><strong class="bold">propertyType</strong></td><td>The type of the property at the end of the chain passed to the  <em class="italic">property</em>  attribute of the  <em class="italic">f:field</em>  or  <em class="italic">f:input</em>  tag. For example, for a  <em class="italic">java.lang.String</em>  property this would be  <em class="italic">string</em> .</td></tr><tr class="table-even"><td><strong class="bold">propertySuperclass</strong></td><td>Any superclass or interface of  <em class="italic">propertyType</em>  excluding  <em class="italic">Object</em> ,  <em class="italic">GroovyObject</em> ,  <em class="italic">Serializable</em> ,  <em class="italic">Comparable</em>  and  <em class="italic">Cloneable</em> .</td></tr></table><p class="paragraph"/>All class names are camel-cased simple forms. For example  <em class="italic">java.lang.String</em>  =  <em class="italic">string</em> ,  <em class="italic">com.project.HomeAddress</em>  =  <em class="italic">homeAddress</em> .<p class="paragraph"/>Templates are resolved in this order so that you can override in the more specific circumstance and fall back to successively more general defaults. For example, you can define a field template for all  <em class="italic">java.lang.String</em>  properties but override a specific property of a particular class to use more specialized rendering.<p class="paragraph"/>Templates in plugins are resolved as well. This means plugins such as  <em class="italic">Joda Time</em>  can provide default rendering for special property types. A template in your application will take precedence over a template in a plugin at the same 'level'. For example if a plugin provides a <code>grails-app/views/&#95;fields/string/&#95;input.gsp</code> the same template in your application will override it but if the plugin provides <code>grails-app/views/&#95;fields/person/name/&#95;input.gsp</code> it would be used in preference to the more general template in your application.<p class="paragraph"/>For most properties the out-of-the-box defaults should provide a good starting point.<p class="paragraph"/><h2>Example</h2><p class="paragraph"/>Imagine an object of class  <em class="italic">Employee</em>  that extends the class  <em class="italic">Person</em>  and has a a String  <em class="italic">name</em>  property.<p class="paragraph"/>You can override the template  <em class="italic">f:field</em>  uses with any of these:
<ol>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/name/&#95;field.gsp</code></li>
<li><code>grails-app/views/&#95;fields/employee/name/&#95;field.gsp</code></li>
<li><code>grails-app/views/&#95;fields/person/name/&#95;field.gsp</code></li>
<li><code>grails-app/views/&#95;fields/string/&#95;field.gsp</code></li>
<li><code>grails-app/views/&#95;fields/default/&#95;field.gsp</code></li>
</ol><p class="paragraph"/>and override the template  <em class="italic">f:input</em>  uses with any of these:
<ol>
<li><code>grails-app/views/<strong class="bold">controllerName</strong>/name/&#95;input.gsp</code></li>
<li><code>grails-app/views/&#95;fields/employee/name/&#95;input.gsp</code></li>
<li><code>grails-app/views/&#95;fields/person/name/&#95;input.gsp</code></li>
<li><code>grails-app/views/&#95;fields/string/&#95;input.gsp</code></li>
<li><code>grails-app/views/&#95;fields/default/&#95;input.gsp</code></li>
</ol><p class="paragraph"/><h2>Template parameters</h2><p class="paragraph"/>The  <em class="italic">f:field</em>  and  <em class="italic">f:input</em>  tags will pass the following parameters to your templates or to the body of  <em class="italic">f:field</em>  if you use one:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Type</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td><strong class="bold">bean</strong></td><td>Object</td><td>The  <em class="italic">bean</em>  attribute as passed to the  <em class="italic">f:field</em>  or  <em class="italic">f:input</em>  tag.</td></tr><tr class="table-even"><td><strong class="bold">property</strong></td><td>String</td><td>The  <em class="italic">property</em>  attribute as passed to the  <em class="italic">f:field</em>  or  <em class="italic">f:input</em>  tag. This would generally be useful for the  <em class="italic">name</em>  attribute of a form input.</td></tr><tr class="table-odd"><td><strong class="bold">type</strong></td><td>Class</td><td>The property type.</td></tr><tr class="table-even"><td><strong class="bold">label</strong></td><td>String</td><td>The field label text. This is based on the  <em class="italic">label</em>  attribute passed to the  <em class="italic">f:field</em>  or  <em class="italic">f:input</em>  tag. If no  <em class="italic">label</em>  attribute was used the label is resolved using ' <em class="italic">class</em> . <em class="italic">propertyName</em> <code>.label</code>' or defaulted to the natural property name.</td></tr><tr class="table-odd"><td><strong class="bold">value</strong></td><td>Object</td><td>the property value. This can also be overridden or defaulted if the  <em class="italic">value</em>  or  <em class="italic">default</em>  attribute was passed to  <em class="italic">f:field</em>  or  <em class="italic">f:input</em> .</td></tr><tr class="table-even"><td><strong class="bold">constraints</strong></td><td>ConstrainedProperty</td><td>The constraints for the property if the bean is a domain or command object.</td></tr><tr class="table-odd"><td><strong class="bold">persistentProperty</strong></td><td>GrailsDomainClassProperty</td><td>The persistent property object if the bean is a domain object.</td></tr><tr class="table-even"><td><strong class="bold">errors</strong></td><td>List&#60;String&#62;</td><td>The error messages for any field errors present on the property. If there are no errors this will be an empty  <em class="italic">List</em> .</td></tr><tr class="table-odd"><td><strong class="bold">required</strong></td><td>boolean</td><td> <em class="italic">true</em>  if the field is required, i.e. has a <code>nullable: false</code> or <code>blank: false</code> constraint.</td></tr><tr class="table-even"><td><strong class="bold">invalid</strong></td><td>boolean</td><td> <em class="italic">true</em>  if the property has any field errors.</td></tr></table><p class="paragraph"/>In addition  <em class="italic">f:field</em>  passes the following parameters:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Type</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td><strong class="bold">widget</strong></td><td>String</td><td>The output of  <em class="italic">f:input</em>  for the current bean and property if  <em class="italic">f:field</em>  was used without a tag body, otherwise the output of the tag body.</td></tr></table><p class="paragraph"/><blockquote class="note">
If the  <em class="italic">bean</em>  attribute was not supplied to  <em class="italic">f:field</em>  then  <em class="italic">bean</em> ,  <em class="italic">type</em> ,  <em class="italic">value</em>  and  <em class="italic">persistentProperty</em>  will all be  <em class="italic">null</em> .
</blockquote>



<h1 id="4. Scaffolding">4 Scaffolding</h1>
Scaffolding templates based on the  <em class="italic">Fields</em>  plugin are quite powerful as they will pick up field and input rendering templates from your application and any plugins that provide them. This means that the useful life of scaffolding templates should be much longer as you do not need to replace the entire  <em class="italic">create.gsp</em>  and/or  <em class="italic">edit.gsp</em>  template just because you want to do something different with a certain property of one particular class.<p class="paragraph"/>The plugin makes the  <em class="italic">renderEditor.template</em>  file used by standard Grails scaffolding redundant. This template was very limited because it could not be extended by plugins or applications (only replaced) and was unable to support embedded properties of domain classes.<p class="paragraph"/>The  <em class="italic">Fields</em>  plugin includes scaffolding templates you can use in your application by running:<p class="paragraph"/><div class="code"><pre>grails install&#45;form&#45;fields&#45;templates</pre></div><p class="paragraph"/>This will overwrite any  <em class="italic">create.gsp</em>  and  <em class="italic">edit.gsp</em>  files you have in <code>src/templates/scaffolding</code>.<p class="paragraph"/>Alternatively, it's very easy to modify your existing scaffolding templates to use the  <em class="italic">f:all</em>  tag or multiple  <em class="italic">f:field</em>  tags.


<h1 id="5. Including Templates in Plugins">5 Including Templates in Plugins</h1>
Plugins can include field and/or input level templates to support special UI rendering or non-standard property types. Just include the templates in the plugin's <code>grails-app/views</code> directory as described in the <a href="../guide/single.html#3.%20Overriding%20Templates" class="guide">Overriding Templates</a> section.<p class="paragraph"/><blockquote class="warning">
If you supply templates in a plugin you should consider declaring a <code>&#60;%&#64; page defaultCodec="html" %&#62;</code> directive so that any HTML unsafe property values are escaped properly regardless of the default codec used by client apps.
</blockquote>

                    </div>
                </td>
                <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
            </tr>
        </table>

        <div id="footer">
            
            
        </div>



<script type="text/javascript" src="../js/docs.js"></script>

    </body>
</html>
